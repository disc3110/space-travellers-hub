(this["webpackJsonpspace-travellers-hub"]=this["webpackJsonpspace-travellers-hub"]||[]).push([[0],{46:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),i=c(16),r=c.n(i),a=c(5),o=(c(46),c(12)),d=c(3),l=c.p+"static/media/planet.a63017b2.svg",j=c(1),b=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row d-flex justify-content-start",children:[Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("img",{src:l,alt:"",className:"logoImg"}),"Space Travellers' Hub"]}),Object(j.jsx)("div",{className:"col text-end links",children:Object(j.jsx)(o.b,{className:"links",to:"/",exact:!0,activeClassName:"active-link",children:"Rockets"})}),Object(j.jsx)("div",{className:"col text-end links",children:Object(j.jsx)(o.b,{className:"links",to:"/missions",activeClassName:"active-link",children:"Missions"})}),Object(j.jsx)("div",{className:"col text-end links spacer",children:Object(j.jsx)(o.b,{className:"links",to:"/profile",activeClassName:"active-link",children:"My Profile"})})]})})},u=c(13),O=c.n(u),m=c(17),h=c(22),x="SUCCESS_MISSION",p="JOIN_MISSION",f=[],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:if(0===e.length){var c=t.payload.map((function(e){return{mission_id:e.mission_id,mission_name:e.mission_name,description:e.description}}));return c}return e;case p:var s=e.map((function(e){return e.mission_id!==t.payload.id?e:Object(h.a)(Object(h.a)({},e),{},{member:!e.member,mission_button:!e.mission_button})}));return s;default:return e}},N=function(){var e=Object(a.b)();Object(s.useEffect)((function(){(function(){var t=Object(m.a)(O.a.mark((function t(){var c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.spacexdata.com/v3/missions",t.next=3,fetch("https://api.spacexdata.com/v3/missions");case 3:return c=t.sent,t.next=6,c.json();case 6:return s=t.sent,t.abrupt("return",e({type:x,payload:s}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var t=Object(a.c)((function(e){return e.missions})),c=function(t){var c;e((c=t.target,{type:p,payload:c}))},n=function(){return Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:e.mission_name}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:e.member?"Actve Member":"NOT A MEMBER"}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{type:"button",onClick:c,id:e.mission_id,className:"btn btn-light",children:e.mission_button?"Leave Mission":"Join Mission"})})]},e.mission_id)}))})};return Object(j.jsx)("div",{className:"p-5",children:Object(j.jsxs)("table",{className:"table table-striped table-hover border border-solid",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Mission"}),Object(j.jsx)("th",{scope:"col",children:"Description"}),Object(j.jsx)("th",{scope:"col",children:"Status"}),Object(j.jsx)("th",{scope:"col",children:" "})]})}),Object(j.jsx)(n,{})]})})},k=function(){var e=Object(a.c)((function(e){return e.missions})).filter((function(e){return!0===e.member})),t=function(){return Object(j.jsx)("tbody",{children:e.map((function(e){return Object(j.jsx)("tr",{children:Object(j.jsx)("th",{scope:"row",children:e.mission_name})},e.mission_id)}))})};return Object(j.jsx)("div",{className:"p-5",children:Object(j.jsxs)("table",{className:"table table-hover border border-solid",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("th",{scope:"col",children:"My Mission"})})}),Object(j.jsx)(t,{})]})})},g=function(){var e=Object(a.c)((function(e){return e.rockets.entities})).filter((function(e){return"true"===e.reserved}));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"My Rockets"}),Object(j.jsx)("table",{className:"table",children:Object(j.jsx)("tbody",{children:e.map((function(e){return Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:"\ud83d\ude80 ".concat(e.name)})},e.id)}))})})]})},_=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:" Profile "}),Object(j.jsx)(g,{}),Object(j.jsx)(k,{})]})},y=c(36),M=c(21),w=c(34),S=c.n(w),C=Object(M.a)("rockets/fetchAllRockets",Object(m.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://api.spacexdata.com/v3/rockets");case 2:return t=e.sent,c=t.data.map((function(e){return{id:e.rocket_id,name:e.rocket_name,images:e.flickr_images,description:e.description,reserved:"false"}})),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),E=Object(M.b)({name:"rockets",initialState:{entities:[],loading:"idle"},reducers:{reserve:function(e,t){var c=e.entities.find((function(e){return e.id===t.payload}));"true"===c.reserved?c.reserved="false":c.reserved="true"}},extraReducers:function(e){e.addCase(C.pending,(function(e){e.loading="pending"})).addCase(C.fulfilled,(function(e,t){e.entities=Object(y.a)(t.payload),e.loading="idle"}))}}),R=E.actions.reserve,I=E.reducer,J=function(e){var t=Object(a.b)(),c=e.name,s=e.image,n=e.description,i=e.id,r=e.reserved;return Object(j.jsxs)("div",{className:"d-flex my-2",children:[Object(j.jsx)("img",{src:s,alt:c,className:"w-25"}),Object(j.jsxs)("div",{className:"w-75 p-2",children:[Object(j.jsx)("h2",{children:c}),Object(j.jsx)("p",{children:n}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(R(i))},children:"true"===r?"Cancel Reservation":"Reserve Roclet"}),"true"===r?Object(j.jsx)("p",{className:"mx-4 my-auto bg-danger p-1 text-light",children:" Reserved "}):Object(j.jsx)("p",{children:" "})]})]})]})},T=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.rockets.entities}));Object(s.useEffect)((function(){0===t.length&&e(C())}),[]);var c;return Object(j.jsx)("div",{children:(c=t,c.map((function(e){return Object(j.jsx)(J,{id:e.id,name:e.name,image:e.images[0],description:e.description,reserved:e.reserved},e.id)})))})},A=function(){return Object(j.jsx)("div",{className:"container mt-3",children:Object(j.jsx)(T,{})})},D=c(4),P=c(35),B=c.n(P),L=c(15),U=Object(D.b)({missions:v,rockets:I}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,H=Object(D.d)(U,X(Object(D.a)(L.a,B.a)));r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(a.a,{store:H,children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(b,{}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/missions",children:Object(j.jsx)(N,{})}),Object(j.jsx)(d.a,{path:"/profile",children:Object(j.jsx)(_,{})}),Object(j.jsx)(d.a,{exact:!0,path:"/",children:Object(j.jsx)(A,{})})]})]})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f2236621.chunk.js.map